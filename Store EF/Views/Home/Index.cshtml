@using Store_EF.Models
@using Store_EF.Models.Extensions;
@model IEnumerable<Product>
@{
    ViewBag.Title = "Home Page";
    StoreEntities store = new StoreEntities();
}

<div class="container">
    <main>
        @Html.Partial("_Hero")
        <div class="filter-wrapper">
            <!-- Nút toggle -->
            <div class="toggle-button">
                <button type="button" id="toggle-filter">Bộ lọc</button>
            </div>

            <!-- Filter -->
            <div class="filter-container hidden" id="filter-section">
                <!-- Lọc theo giá -->
                <div class="filter-group">
                    <label for="min-price">Giá tối thiểu:</label>
                    <input type="number" id="min-price" placeholder="Nhập giá thấp nhất">
                </div>
                <div class="filter-group">
                    <label for="max-price">Giá tối đa:</label>
                    <input type="number" id="max-price" placeholder="Nhập giá cao nhất">
                </div>

                <!-- Lọc theo brand -->
                <div class="filter-group">
                    <label>Thương hiệu:</label>
                    <div class="checkbox-group">
                        <label><input type="checkbox" value="Dell"> Dell</label>
                        <label><input type="checkbox" value="HP"> HP</label>
                        <label><input type="checkbox" value="Asus"> Asus</label>
                        <label><input type="checkbox" value="Lenovo"> Lenovo</label>
                        <label><input type="checkbox" value="Apple"> Apple</label>
                    </div>
                </div>

                <!-- Submit -->
                <div class="filter-button">
                    <button type="button">Áp dụng</button>
                </div>
            </div>
        </div>
        <section class="product">
            <div class="product__list">
                @foreach (Product p in Model)
                {
                    <a class="product__item" href="@Url.Action("Detail", "Products", new { Id = p.ProductId })">
                        <div class="product__img">
                            <img src="~/Public/Imgs/Products/@p.Thumbnail()" alt="" />
                            @{
                                double result = p.DiscountPercentage();
                                if (result != 0)
                                {
                                    <div class="product__sale">-@result%</div>
                                }
                            }
                        </div>
                        <div class="product__info">
                            <h3 class="product__name">@p.Title</h3>
                            <div class="products__price">Giá: @p.FormattedPrice()</div>
                        </div>
                    </a>
                }
            </div>
        </section>
    </main>
</div>

